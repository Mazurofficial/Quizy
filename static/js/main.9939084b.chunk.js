(this.webpackJsonpquiz=this.webpackJsonpquiz||[]).push([[0],{15:function(e,t,n){e.exports={wrapper:"FinishedQuiz_wrapper__fhUrw",isFinished:"FinishedQuiz_isFinished__3bfwf",checkList:"FinishedQuiz_checkList__26cYB",result:"FinishedQuiz_result__3gB_P",buttonBlock:"FinishedQuiz_buttonBlock__3biFQ",success:"FinishedQuiz_success__2EeEd",error:"FinishedQuiz_error__2PlTT"}},16:function(e,t,n){e.exports={item:"ActiveQuiz_item__UvN09",top:"ActiveQuiz_top__38OvZ",head:"ActiveQuiz_head__2DV4j",counter:"ActiveQuiz_counter__3dYUG"}},20:function(e,t,n){e.exports={Drawer:"Drawer_Drawer__k9oZ1",close:"Drawer_close__157sK"}},23:function(e,t,n){},24:function(e,t,n){e.exports={MenuToggle:"MenuToggle_MenuToggle__21_pH",open:"MenuToggle_open__3GTM9"}},27:function(e,t,n){e.exports={Quiz:"Quiz_Quiz__2THIz"}},28:function(e,t,n){e.exports={item:"AnswerItem_item__2JHjG",success:"AnswerItem_success__T60JS",error:"AnswerItem_error__CfsHe"}},29:function(e,t,n){e.exports={Button:"Button_Button__2Ajf-",primary:"Button_primary__CVuDV",success:"Button_success__qdwm8",error:"Button_error__A4xET"}},30:function(e,t,n){e.exports={Auth:"Auth_Auth__7JmWy",btnblock:"Auth_btnblock__VgQZC"}},31:function(e,t,n){e.exports={Input:"Input_Input__SNRl4",invalid:"Input_invalid__1ZOur"}},33:function(e,t,n){e.exports={QuizCreator:"QuizCreator_QuizCreator__2CeNk",answers:"QuizCreator_answers__2JwhW",btnblock:"QuizCreator_btnblock__1AT9q"}},45:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__Vem4f"}},47:function(e,t,n){e.exports={list:"AnsweraList_list__3hJLg"}},50:function(e,t,n){e.exports={Select:"Select_Select__26ooE"}},51:function(e,t,n){e.exports={QuizList:"QuizList_QuizList__EsJjC"}},57:function(e,t,n){},58:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n(1),a=n.n(r),i=n(12),c=n(44),o=n.n(c),u=(n(57),n(58),n(2)),l=n(7),d=n(8),h=n(10),j=n(9),b=n(23),p=n.n(b),v=n(24),f=n.n(v),m=function(e){var t=[f.a.MenuToggle,"fa"];return e.isOpen?(t.push("fa-times"),t.push(f.a.open)):t.push("fa-bars"),Object(s.jsx)("i",{className:t.join(" "),onClick:e.onToggle})},O=n(20),x=n.n(O),_=n(45),w=n.n(_),g=function(e){return Object(s.jsx)("div",{className:w.a.Backdrop,onClick:e.onClick})},z=[{to:"/",label:"List",exact:!0},{to:"/auth",label:"Authentication",exact:!1},{to:"/quiz-creator",label:"Quiz-creator",exact:!1}],C=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).renderLinks=function(){return z.map((function(t,n){return Object(s.jsx)("li",{children:Object(s.jsx)(i.c,{to:t.to,exact:t.exact,activeClassName:x.a.active,onClick:e.props.closeMenu,children:t.label})},n)}))},e}return Object(d.a)(n,[{key:"render",value:function(){var e=[x.a.Drawer];return this.props.isOpen||e.push(x.a.close),Object(s.jsxs)(r.Fragment,{children:[Object(s.jsx)("nav",{className:e.join(" "),children:Object(s.jsx)("ul",{children:this.renderLinks()})}),this.props.isOpen?Object(s.jsx)(g,{onClick:this.props.closeMenu}):null]})}}]),n}(r.Component),k=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={menu:!1},e.toggleMenuHandler=function(){e.setState({menu:!e.state.menu})},e.closeMenuHandler=function(){e.setState({menu:!1})},e}return Object(d.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:p.a.Layout,children:[Object(s.jsx)(C,{isOpen:this.state.menu,closeMenu:this.closeMenuHandler}),Object(s.jsx)(m,{onToggle:this.toggleMenuHandler,isOpen:this.state.menu}),Object(s.jsx)("main",{className:p.a.wrapper,children:this.props.children})]})}}]),n}(r.Component),y=n(18),q=n(27),Q=n.n(q),S=n(16),A=n.n(S),N=n(47),F=n.n(N),H=n(28),L=n.n(H),M=function(e){var t=[L.a.item];return e.answerState&&t.push(L.a[e.answerState]),Object(s.jsx)("li",{className:t.join(" "),onClick:function(){return e.onAnswerClick(e.answer.id)},children:e.answer.text})},I=function(e){return Object(s.jsx)("ul",{className:F.a.list,children:e.answers.map((function(t,n){return Object(s.jsx)(M,{answer:t,onAnswerClick:e.onAnswerClick,answerState:e.answerState?e.answerState[t.id]:null},n)}))})},B=function(e){return Object(s.jsx)("div",{className:A.a.wrapper,children:Object(s.jsxs)("div",{className:A.a.item,children:[Object(s.jsxs)("div",{className:A.a.top,children:[Object(s.jsxs)("h2",{className:A.a.head,children:[Object(s.jsxs)("span",{children:[e.answerNumber,"."]})," ",e.question]}),Object(s.jsxs)("p",{className:A.a.counter,children:[e.answerNumber," of ",e.quizLenth]})]}),Object(s.jsx)(I,{answers:e.answers,onAnswerClick:e.onAnswerClick,answerState:e.answerState})]})})},T=n(15),V=n.n(T),D=n(29),E=n.n(D),J=function(e){var t=[E.a.Button,E.a[e.type]];return Object(s.jsx)("button",{onClick:e.onClick,className:t.join(" "),disabled:e.disabled,children:e.children})},P=function(e){var t=Object.keys(e.results).reduce((function(t,n){return"success"===e.results[n]&&t++,t}),0);return Object(s.jsxs)("div",{className:V.a.wrapper,children:[Object(s.jsx)("h1",{className:V.a.isFinished,children:"is finished"}),Object(s.jsx)("ul",{className:V.a.checkList,children:e.quiz.map((function(t,n){var r=["fa","success"===e.results[t.id]?"fa-check":"fa-times",V.a[e.results[t.id]]];return Object(s.jsxs)("li",{children:[Object(s.jsxs)("p",{children:[Object(s.jsxs)("span",{children:[n+1,". "]}),t.question]}),Object(s.jsx)("i",{className:r.join(" ")})]},n)}))}),Object(s.jsxs)("p",{className:V.a.result,children:["Number of right answers: ",t," / ",e.quiz.length]}),Object(s.jsxs)("div",{className:V.a.buttonBlock,children:[Object(s.jsx)(J,{type:"primary",onClick:e.onRetry,children:"repeat"}),Object(s.jsx)(i.b,{to:"/",children:Object(s.jsx)(J,{type:"success",children:"test list"})})]})]})},R=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={activeQuestion:0,isFinished:!1,answerState:null,results:{},quizName:"Name of quiz",quiz:[{id:1,question:"First question ?",answers:[{text:"answer 1",id:1},{text:"answer 2",id:2},{text:"answer 3",id:3}],right_answer:2},{id:2,question:"Second question ?",answers:[{text:"answer 1",id:1},{text:"answer 2",id:2},{text:"answer 3",id:3}],right_answer:2}]},e.onAnswerClickHandler=function(t){if(e.state.answerState){var n=Object.keys(e.state.answerState)[0];if("success"===e.state.answerState[n])return}var s=e.state.quiz[e.state.activeQuestion],r=e.state.results;if(s.right_answer===t){r[s.id]||(r[s.id]="success"),e.setState({answerState:Object(y.a)({},t,"success")});var a=window.setTimeout((function(){e.isQuizFinished()?e.setState({isFinished:!0}):e.setState({activeQuestion:e.state.activeQuestion+1,answerState:null}),window.clearTimeout(a)}),500)}else r[s.id]="error",e.setState({results:r,answerState:Object(y.a)({},t,"error")})},e.retryHandler=function(){e.setState({activeQuestion:0,isFinished:!1,answerState:null,results:{}})},e}return Object(d.a)(n,[{key:"isQuizFinished",value:function(){return this.state.activeQuestion+1===this.state.quiz.length}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:Q.a.Quiz,children:[Object(s.jsx)("h1",{children:this.state.quizName}),Object(s.jsx)("div",{className:Q.a.wrapper,children:this.state.isFinished?Object(s.jsx)(P,{results:this.state.results,quiz:this.state.quiz,onRetry:this.retryHandler}):Object(s.jsx)(B,{question:this.state.quiz[this.state.activeQuestion].question,answers:this.state.quiz[this.state.activeQuestion].answers,onAnswerClick:this.onAnswerClickHandler,quizLenth:this.state.quiz.length,answerNumber:this.state.activeQuestion+1,answerState:this.state.answerState})})]})}}]),n}(r.Component),Z=n(13),G=n(30),U=n.n(G),W=n(31),Y=n.n(W),K=function(e){var t=function(e){var t=e.valid,n=e.touched,s=e.shouldValidate;return!t&&n&&s},n=e.type||"text",r=[Y.a.Input],a="".concat(n,"-").concat(Math.random());return t(e)&&r.push(Y.a.invalid),Object(s.jsxs)("div",{className:r.join(" "),children:[Object(s.jsx)("label",{htmlFor:a,children:e.label}),Object(s.jsx)("input",{type:n,id:a,value:e.value,onChange:e.onChange}),t(e)?Object(s.jsx)("p",{children:e.errorMessage||"Check the correction on information"}):null]})},X=n(48),$=n.n(X);function ee(e,t){return Object(Z.a)(Object(Z.a)({},e),{},{validation:t,valid:!t,touched:!1,value:""})}function te(e,t){if(!t)return!0;var n=!0;return t.required&&(n=""!==e.trim(" ")&&n),t.email&&(n=$.a.email(e)&&n),t.minLength&&(n=e.length>=t.minLength&&n),n}var ne=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={isFormValid:!1,formControls:{email:{value:"",type:"email",label:"Email",errorMessage:'Enter correct email "example@test.com"',valid:!1,touched:!1,validation:{required:!0,email:!0}},password:{value:"",type:"password",label:"Password",errorMessage:'Enter correct password "min: 6 symbols"',valid:!1,touched:!1,validation:{required:!0,minLength:6}}}},e.loginHandler=function(){},e.registerHandler=function(){},e.submitHandler=function(e){e.preventDefault()},e.onChangeHandler=function(t,n){var s=Object(Z.a)({},e.state.formControls),r=Object(Z.a)({},s[n]);r.value=t.target.value,r.touched=!0,r.valid=te(r.value,r.validation),s[n]=r;var a=!0;Object.keys(s).forEach((function(e){a=s[e].valid&&a})),e.setState({formControls:s,isFormValid:a})},e.renderInputs=function(){return Object.keys(e.state.formControls).map((function(t,n){var r=e.state.formControls[t];return Object(s.jsx)(K,{type:r.type,value:r.value,valid:r.valid,touched:r.touched,label:r.label,errorMessage:r.errorMessage,shouldValidate:!!r.validation,onChange:function(n){e.onChangeHandler(n,t)}},t+n)}))},e}return Object(d.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:U.a.Auth,children:[Object(s.jsx)("h1",{children:"Authentication"}),Object(s.jsxs)("form",{onSubmit:this.submitHandler,children:[this.renderInputs(),Object(s.jsxs)("div",{className:U.a.btnblock,children:[Object(s.jsx)(J,{type:"success",onClick:this.loginHandler,disabled:!this.state.isFormValid,children:"Login"}),Object(s.jsx)(J,{type:"primary",onClick:this.registerHandler,children:"Register"})]})]})]})}}]),n}(r.Component),se=n(32),re=n.n(se),ae=n(49),ie=n(33),ce=n.n(ie),oe=n(50),ue=n.n(oe),le=function(e){var t="".concat(e.label,"-").concat(Math.random());return Object(s.jsxs)("div",{className:ue.a.Select,children:[Object(s.jsx)("label",{htmlFor:t,children:e.label}),Object(s.jsx)("select",{id:t,value:e.value,onChange:e.onChange,children:e.options.map((function(e,t){return Object(s.jsx)("option",{value:e.value,children:e.text},e.value+t)}))})]})},de=n(19),he=n.n(de),je=function(e){return ee({label:"Variant ".concat(e),errorMessage:"Value can't be empty",value:"",id:e},{required:!0})},be=function(){return{question:ee({label:"Enter the question",errorMessage:"Question can't be empty"},{required:!0}),option1:je(1),option2:je(2),option3:je(3),option4:je(4)}},pe=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={quiz:[],isFormValid:!1,rightAnswerId:1,formControls:be()},e.submitHandler=function(e){e.preventDefault()},e.addQuestionHandler=function(t){t.preventDefault();var n=e.state.quiz.concat(),s=n.length+1,r=e.state.formControls,a=r.question,i=r.option1,c=r.option2,o=r.option3,u=r.option4,l={question:a.value,id:s,rightAnswerId:e.state.rightAnswerId,answers:[{text:i.value,id:i.id},{text:c.value,id:c.id},{text:o.value,id:o.id},{text:u.value,id:u.id}]};n.push(l),e.setState({quiz:n,rightAnswerId:1,isFormValid:!1,formControls:be()})},e.createQuizHandler=function(){var t=Object(ae.a)(re.a.mark((function t(n){return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,he.a.post("https://react-quizy-bcaf7-default-rtdb.firebaseio.com/quizes.json",e.state.quiz);case 4:e.setState({quiz:[],isFormValid:!1,rightAnswerId:1,formControls:be()}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}(),e.changeHandler=function(t,n){var s=Object(Z.a)({},e.state.formControls),r=Object(Z.a)({},s[n]);r.value=t,r.touched=!0,r.valid=te(r.value,r.validation),s[n]=r;var a=!0;Object.keys(s).forEach((function(e){a=s[e].valid&&a})),e.setState({formControls:s,isFormValid:a})},e.renderInputs=function(){return Object.keys(e.state.formControls).map((function(t,n){var a=e.state.formControls[t];return Object(s.jsxs)(r.Fragment,{children:[Object(s.jsx)(K,{type:a.type,value:a.value,valid:a.valid,touched:a.touched,label:a.label,errorMessage:a.errorMessage,shouldValidate:!!a.validation,onChange:function(n){e.changeHandler(n.target.value,t)}}),0===n?Object(s.jsx)("hr",{}):null]},n+t)}))},e.selectChangeHandler=function(t){e.setState({rightAnswerId:+t.target.value})},e}return Object(d.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:ce.a.QuizCreator,children:[Object(s.jsx)("h1",{children:"QuizCreator "}),Object(s.jsxs)("form",{onSubmit:this.submitHandler,children:[this.renderInputs(),Object(s.jsx)(le,{label:"Select the right answer",value:this.state.rightAnswerId,onChange:this.selectChangeHandler,options:[{text:1,value:1},{text:2,value:2},{text:3,value:3},{text:4,value:4}]}),Object(s.jsxs)("div",{className:ce.a.btnblock,children:[Object(s.jsx)(J,{type:"primary",onClick:this.addQuestionHandler,disabled:!this.state.isFormValid,children:"Add question"}),Object(s.jsx)(J,{type:"success",onClick:this.createQuizHandler,disabled:0===this.state.quiz.length,children:"Create quiz"})]})]})]})}}]),n}(r.Component),ve=n(51),fe=n.n(ve),me=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).quizList=[1,2,3],e}return Object(d.a)(n,[{key:"renderQuizList",value:function(){return this.quizList.map((function(e,t){return Object(s.jsx)("li",{children:Object(s.jsxs)(i.c,{to:"/quiz/"+e,children:["Quiz ",e]})},t)}))}},{key:"componentDidMount",value:function(){he.a.get("https://react-quizy-bcaf7-default-rtdb.firebaseio.com/quiz.json").then((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(s.jsx)("div",{className:fe.a.QuizList,children:Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"QuizList"}),Object(s.jsx)("ul",{children:this.renderQuizList()})]})})}}]),n}(r.Component);var Oe=function(){return Object(s.jsx)(k,{children:Object(s.jsxs)(u.c,{children:[Object(s.jsx)(u.a,{path:"/auth",component:ne}),Object(s.jsx)(u.a,{path:"/quiz/:id",component:R}),Object(s.jsx)(u.a,{path:"/quiz-creator",component:pe}),Object(s.jsx)(u.a,{path:"/",component:me})]})})},xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,83)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),s(e),r(e),a(e),i(e)}))},_e=Object(s.jsx)(i.a,{children:Object(s.jsx)(Oe,{})});o.a.render(Object(s.jsx)(a.a.StrictMode,{children:_e}),document.getElementById("root")),xe()}},[[82,1,2]]]);
//# sourceMappingURL=main.9939084b.chunk.js.map